<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>GLS ParcelShop finder</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />
    <script defer src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>

    <link rel="stylesheet" href="//online.gls-hungary.com/psmap/default.css" type="text/css" />
    <link rel="stylesheet" href="https://myfirstwebapp-siwvh.run-eu-central1.goorm.io/apirequests/pclshopfindercss" type="text/css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script defer src="/es2021/index.js"></script>

    <style type="text/css">
      #map {
        margin-top: 100px;
        width: 900px;
        height: 500px;
        border: solid 1px red;
      }
    </style>
  </head>
  <body>
    <!--The DIV element ov the plugin-->
    <div class="canvas">
      <div class="left-canvas">
        <input id="searchinput" type="text" class="default" />
        <div id="psitems-canvas" style="margin: 0px"></div>
      </div>
      <div id="map" class="stage"></div>
    </div>
    <br />
    <div style="font-size: larger">The selected ParcelShop:</div>
    <br />
    <div style="font-size: larger" id="ajaxresult">Selected item comes here</div>
    <!--The DIV element ov the plugin-->

    <script>
      var ParcelShopFinderMapElement = document.querySelector('.canvas');

      //Adjust the module's settings
      var scriptLoadOptions = {
        country: 'HU', //Musd be uppercase
        startingCoords: null, //Example: [45.81444, 15.97798]
        startingDefaultZoomLevel: 15,
        focusZoomLevel: 15,
        minMaxZoomLevel: { min: 7, max: 15 },
        uiLanguage: 'hu', //Musd be lowerpercase
        isPopUpEnabled: true,
      };

      ParcelShopFinderMapElement.addEventListener('click', function (event) {
        if (event.target.className == 'markerBouncing' || event.target.className == 'sidebarListItem sidebarItemSelected') {
          var data = mainDataExtractor(event);

          //Data what you should care.
          console.log(data);

          //Optional///////////////////////////////////////
          selectedPclshopID.textContent = MainMap.selectedParcelShop.pclshopid;
          //Optional///////////////////////////////////////
        } else {
          selectedPclshopID.textContent = MainMap.selectedParcelShop;
        }
      });
    </script>
  </body>
</html>
